// Generated by CoffeeScript 1.8.0
(function() {
  var canICloseTheTab;

  app.templates.offlinePage = function(docs) {
    return "<h1 class=\"_lined-heading\">Offline Documentation</h1>\n\n<div class=\"_docs-tools\">\n  <div class=\"_docs-links\">\n    <a class=\"_docs-link\" data-action-all=\"install\">Install all</a><a class=\"_docs-link\" data-action-all=\"update\"><strong>Update all</strong></a><a class=\"_docs-link\" data-action-all=\"uninstall\">Uninstall all</a>\n  </div>\n  <label class=\"_docs-label\">\n    <input type=\"checkbox\" name=\"autoUpdate\" value=\"1\" " + (app.settings.get('autoUpdate') ? 'checked' : '') + ">\n    Check for and install updates automatically\n  </label>\n</div>\n\n<table class=\"_docs\">\n  <tr>\n    <th>Documentation</th>\n    <th class=\"_docs-size\">Size</th>\n    <th>Status</th>\n    <th>Action</th>\n  </tr>\n  " + docs + "\n</table>\n<h1 class=\"_lined-heading\">Questions & Answers</h1>\n<dl>\n  <dt>How does this work?\n  <dd>Each page is cached as a key-value pair in <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a> (downloaded from a single file).<br>\n      The app also uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache\">AppCache</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API\">localStorage</a> to cache the assets and index files.\n  <dt>Can I close the tab/browser?\n  <dd>" + (canICloseTheTab()) + "\n  <dt>What if I don't update a documentation?\n  <dd>You'll see outdated content and some pages will be missing or broken, since the rest of the app (including data for the search and sidebar) uses a different caching mechanism and is updated automatically.<br>\n      Documentation versioning is planned for the future but not yet supported, sorry.\n  <dt>I found a bug, where do I report it?\n  <dd>In the <a href=\"https://github.com/Thibaut/devdocs/issues\">issue tracker</a>. Thanks!\n  <dt>How do I uninstall/reset the app?\n  <dd>Click <a href=\"javascript:app.reset()\">here</a>.\n  <dt>Why aren't all documentations listed above?\n  <dd>You have to <a href=\"#\" data-pick-docs>enable</a> them first.\n</dl>";
  };

  canICloseTheTab = function() {
    if (app.AppCache.isEnabled()) {
      return " Yes! Even offline, you can open a new tab, go to <a href=\"http://devdocs.io\">devdocs.io</a>, and everything will work as if you were online (provided you installed all the documentations you want to use beforehand).<br>\nNote that loading any page other than <a href=\"http://devdocs.io\">devdocs.io</a> directly won't work (due to limitations in AppCache). ";
    } else {
      return " No. AppCache isn't available in your browser (or is disabled) so loading <a href=\"http://devdocs.io\">devdocs.io</a> offline won't work.<br>\nThe current tab will continue to work, though (provided you installed all the documentations you want to use beforehand). ";
    }
  };

  app.templates.offlineDoc = function(doc, status) {
    var html, outdated;
    outdated = doc.isOutdated(status);
    html = "<tr data-slug=\"" + doc.slug + "\"" + (outdated ? ' class="_highlight"' : '') + ">\n  <td class=\"_docs-name _icon-" + doc.slug + "\">" + doc.name + "</td>\n  <td class=\"_docs-size\">" + (Math.ceil(doc.db_size / 100000) / 10) + " MB</td>";
    html += !status.installed ? "<td>-</td>\n<td><a data-action=\"install\">Install</a></td>" : outdated ? "<td><strong>Outdated</strong></td>\n<td><a data-action=\"update\">Update</a> - <a data-action=\"uninstall\">Uninstall</a></td>" : "<td>Up-to-date</td>\n<td><a data-action=\"uninstall\">Uninstall</a></td>";
    return html + '</tr>';
  };

}).call(this);
